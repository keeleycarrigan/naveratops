!function(a,b){function c(b,c){this.el=b,this.$el=a(this.el);var f=this.$el.data("nt-options");f&&(c=a.extend({},c,f)),this.options=a.extend({},e,c),this._name=d,this.navTopLimit=this.$el.offset().top,this.navHeight=this.$el.outerHeight(),this.sections={},this.init()}var d="naveratops",e={scrollOffset:null,currentSection:null,linkSelector:"a",evtNamespace:"",onCreate:a.noop,onNewSection:a.noop,onNavClick:a.noop,afterScroll:a.noop};a.extend(a.expr[":"],{data:function(b){return"object"==typeof a(b).data("plugin_"+d)}}),c.prototype.init=function(){this.$el.on("click","a",{self:this},this.handleClick),a(b).on("scroll",{self:this},this.handleScroll),a(b).on("resize",{self:this},this.smartResize),this.getSectionData(),this.options.onCreate(this.$el)},c.prototype.smartResize=function(c){var d=c.data.self;d.timeout&&c&&clearTimeout(d.timeout),d.timeout=setTimeout(function(){d.getSectionData(),d.setNav(d.findSection(a(b).scrollTop()))},100)},c.prototype.getSectionData=function(){for(var b=this.$el.find("a"),c=b.length;c--;){var d=b.eq(c).attr("href"),e=Math.floor(a(d).offset().top-this.navHeight);this.sections[d]=e}},c.prototype.findSection=function(a){for(key in this.sections)if(this.sections[key]<=a)return key},c.prototype.setNav=function(c){var d=a(b).scrollTop();d>=this.navTopLimit?this.$el.addClass("fixed"):this.$el.removeClass("fixed"),this.options.onNewSection(this.$el),this.currentSection=c,this.$el.find("a").removeClass("current"),a('[href="'+c+'"]').addClass("current")},c.prototype.scrollTo=function(b){b=b.indexOf("#")<0?"#"+b:b;var c=this,d=a(b).offset().top-c.navHeight-c.options.scrollOffset;a("html, body").animate({scrollTop:d},600,function(){c.options.afterScroll(c.$el)})},c.prototype.handleClick=function(b){b.preventDefault();var c=b.data.self,d=a(b.currentTarget).attr("href");c.options.onNavClick(c.$el),c.scrollTo(d)},c.prototype.handleScroll=function(c){var d=c.data.self,e=a(b).scrollTop(),f=d.findSection(e);d.setNav(f)},c.prototype.destroy=function(){this.$el.off("click","a",this.handleClick),a(b).off("scroll",this.handleScroll)},c.prototype.create=function(){this.init()},a.fn[d]=function(b,e){return this.each(function(){a.data(this,"plugin_"+d)?a.isFunction(c.prototype[b])&&b.indexOf("_")<0&&a.data(this,"plugin_"+d)[b](e):a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window,document);